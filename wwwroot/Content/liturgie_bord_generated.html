<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Liturgie Bord</title>
    <!--<meta http-equiv="refresh" content="1">-->
    <style>
        html, body {
            height: 100vh !important;
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        * {
            box-sizing: inherit;
        }
        body {
            margin: 0;
            padding: 0;
            background: #000;
            color: #fff;
            font-family: Arial, sans-serif;
            min-height: 100vh;
        }
        .psalmen-output, .liederen-output, .anders-output {
            width: 100vw;
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            justify-content: center;
        }
        .psalmen-output {
            height: 100vh;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            justify-content: stretch;
        }
        .psalmen-output .line-container {
            flex: 1 1 0;
            min-height: 0;
            display: flex;
            flex-direction: column;
            justify-content: stretch;
            width: 100vw;
        }
        .psalmen-output p {
            font-size: clamp(1vw, 4vw, 10vw);
            margin: 0;
            margin-left: 2.5%;
            flex: 1 1 0;
            /* min-height: 0; */
            display: flex;
            align-items: center;
            /* height: 100%; */
            /* overflow: hidden; */
            /* max-width: 95%; */
        }
        .psalmen-output .line-underline {
            align-self: center;
            border-bottom: 2px solid #ffffffab;
            width: 95%;
            margin: 0.0vw 0 1vw 0;
            flex-shrink: 1;
            min-height: 0;
        }
        .liederen-output p {
            font-size: clamp(3.9vw, 5vw, 6vw);
        }
        .anders-output pre {
            font-size: clamp(1vw, 4vw, 10vw);
            margin: 0;
            margin-left: 2.5%;
            flex: 1 1 0;
            display: flex;
            align-items: center;
            background: none;
            border: none;
            color: #fff;
            text-align: left;
            white-space: pre-wrap;
            word-break: break-word;
            overflow-wrap: break-word;
            max-width: 90vw;
        }
        .psalmen-output.items-1 p,
        .psalmen-output.items-2 p,
        .psalmen-output.items-3 p,
        .psalmen-output.items-4 p {
            font-size: clamp(4vw, 12vw, 16vw);
        }
        .psalmen-output.items-5 p,
        .psalmen-output.items-6 p {
            font-size: clamp(2vw, 10vw, 10vw);
        }
        .psalmen-output.items-7 p,
        .psalmen-output.items-8 p,
        .psalmen-output.items-9 p,
        .psalmen-output.items-10 p {
            font-size: clamp(1vw, 4vw, 8vw);
        }
        .auto-fit {
            white-space: nowrap; 
        }
    </style>
</head>
<body>
    <div class="psalmen-output">

          <div class="line-container">
              <p class="auto-fit">Psalm 123: 4,5,6</p>
              <div class="line-underline"></div>
          </div>

          <div class="line-container">
              <p class="auto-fit">asdasd: as</p>
              <div class="line-underline"></div>
          </div>

          <div class="line-container">
              <p class="auto-fit">test: pippo</p>
              <div class="line-underline"></div>
          </div>

          <div class="line-container">
              <p class="auto-fit">test: g</p>
              <div class="line-underline"></div>
          </div>

          <div class="line-container">
              <p class="auto-fit">Psalm 123: 3 4</p>
              <div class="line-underline"></div>
          </div>
</div>
    <script>
    function updateFontSizeClass() {
        const container = document.querySelector('.psalmen-output');
        if (!container) return;
        const count = container.querySelectorAll('.line-container').length;
        for (let i = 1; i <= 10; i++) {
            container.classList.remove('items-' + i);
        }
        container.classList.add('items-' + Math.min(count, 10));
    }
    updateFontSizeClass();

    // Auto-fit font size for .auto-fit elements
    function autoFitText() {
        const elements = document.querySelectorAll('.auto-fit');
        elements.forEach(el => {
            const parent = el.parentElement;
            // Start met een grote fontgrootte gebaseerd op het scherm
            let vw = window.innerWidth / 100;
            let vh = window.innerHeight / 100;
            let fontSize = Math.min(vw, vh) * 10; // 10vw of 10vh, wat het kleinst is
            el.style.fontSize = fontSize + 'px';

            // Verklein totdat het past qua breedte Ã©n hoogte
            while (
                (el.scrollWidth > parent.clientWidth - 10 || el.scrollHeight > parent.clientHeight - 10) &&
                fontSize > 60
            ) {
                fontSize -= 2;
                el.style.fontSize = fontSize + 'px';
            }
        });
    }
    window.addEventListener('load', autoFitText);
    window.addEventListener('resize', autoFitText);
    </script>
</body>
</html>
